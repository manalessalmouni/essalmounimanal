<!DOCTYPE html>
<html lang="fr" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Manal Essalmouni — AI Engineer & Data Scientist</title>

  <!-- Icons & Fonts -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Montserrat:wght@300;400;600;700;800;900&display=swap" rel="stylesheet">

  <style>
    :root{
      --pink:#df949d;
      --soft:#e3bbbd;
      --cream:#f7efda;
      --brown:#6f5e4f;

      --text:'Montserrat',system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
      --mono:'Space Mono',monospace;

      --r-xl:22px;
      --r-lg:16px;
      --shadow-1: 0 10px 30px rgba(0,0,0,.25);
      --shadow-2: 0 18px 56px rgba(0,0,0,.40);
      --ease: cubic-bezier(.2,.8,.2,1);

      /* mouse spotlight */
      --mx: 50%;
      --my: 35%;
    }

    /* LIGHT */
    [data-theme="light"]{
      --bg: var(--cream);
      --bg2: #fff8ef;
      --surface: rgba(255,255,255,.74);
      --surface2: rgba(255,255,255,.58);
      --ink: #2a201a;
      --muted: rgba(42,32,26,.72);
      --muted2: rgba(42,32,26,.56);
      --stroke: rgba(111,94,79,.22);
      --stroke2: rgba(111,94,79,.30);
      --glass: rgba(247,239,218,.76);
      --glass-stroke: rgba(111,94,79,.18);

      --btn-ink:#2a201a;
      --btn-bg: rgba(223,148,157,.18);
      --btn-stroke: rgba(223,148,157,.45);

      --primary: var(--pink);
      --gray-accent: rgba(80,80,80,.88);
    }

    /* DARK */
    [data-theme="dark"]{
      --bg: #14100d;
      --bg2: #0f0c0a;
      --surface: rgba(255,255,255,.06);
      --surface2: rgba(255,255,255,.05);
      --ink: #f6efe6;
      --muted: rgba(246,239,230,.72);
      --muted2: rgba(246,239,230,.52);
      --stroke: rgba(227,187,189,.16);
      --stroke2: rgba(227,187,189,.24);
      --glass: rgba(20,16,13,.72);
      --glass-stroke: rgba(227,187,189,.14);

      --btn-ink:#15110e;
      --btn-bg: var(--pink);
      --btn-stroke: rgba(223,148,157,.55);

      --primary: var(--pink);
      --gray-accent: rgba(210,210,210,.80);

      --shadow-1: 0 10px 30px rgba(0,0,0,.34);
      --shadow-2: 0 18px 56px rgba(0,0,0,.50);
    }

    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family:var(--text);
      color:var(--ink);
      line-height:1.6;
      overflow-x:hidden;
      scroll-behavior:smooth;

      background:
        radial-gradient(1200px 900px at 10% 10%, rgba(223,148,157,.12), transparent 60%),
        radial-gradient(1200px 900px at 90% 20%, rgba(111,94,79,.15), transparent 60%),
        linear-gradient(180deg, var(--bg2), var(--bg));
    }

    a{color:inherit}
    .container{max-width:1180px;margin:0 auto;padding:0 clamp(16px,6vw,80px)}

    /* ==========================================
       Mouse spotlight (smaller + smoother)
    =========================================== */
    .mouse-spotlight{
      position:fixed; inset:0; z-index:-4; pointer-events:none;
      background:
        radial-gradient(360px 360px at var(--mx) var(--my),
          rgba(223,148,157,.18),
          rgba(223,148,157,.07) 42%,
          rgba(111,94,79,.05) 65%,
          transparent 76%);
      opacity:.95;
      mix-blend-mode: screen;
      transition: background .08s linear;
    }
    [data-theme="light"] .mouse-spotlight{ mix-blend-mode:multiply; opacity:.55; }

    /* =========================
       Subtle moving stars (background animation)
    ========================== */
    .stars{
      position:fixed; inset:0; z-index:-5; pointer-events:none;
      opacity:.30;
      background-image:
        radial-gradient(circle at 10% 20%, rgba(223,148,157,.55) 0 2px, transparent 3px),
        radial-gradient(circle at 30% 60%, rgba(227,187,189,.55) 0 1.5px, transparent 2.5px),
        radial-gradient(circle at 70% 30%, rgba(111,94,79,.55) 0 2px, transparent 3px),
        radial-gradient(circle at 90% 70%, rgba(223,148,157,.45) 0 1.5px, transparent 2.5px);
      background-size: 420px 420px, 520px 520px, 620px 620px, 720px 720px;
      animation: drift 18s linear infinite;
      filter: blur(.2px);
    }
    @keyframes drift{
      from{ transform: translate3d(0,0,0); }
      to{ transform: translate3d(-120px, 70px, 0); }
    }
    [data-theme="light"] .stars{ opacity:.18; }

    /* =========================
       Navbar
    ========================== */
    .navbar{
      position:sticky; top:0; z-index:40;
      backdrop-filter: blur(10px);
      background: var(--glass);
      border-bottom:1px solid var(--glass-stroke);
    }
    .nav-inner{
      display:flex; align-items:center; justify-content:space-between;
      padding: 12px 0;
      gap: 14px;
    }
    .brand{
      font-weight:900;
      letter-spacing:.18em;
      text-transform:uppercase;
      font-size:.9rem;
      white-space:nowrap;
    }
    .nav-links{
      display:flex; gap:22px; align-items:center;
    }
    .nav-links a{
      text-decoration:none;
      color:var(--muted);
      font-weight:650;
      font-size:.92rem;
      position:relative;
      padding:6px 2px;
      transition: color .2s var(--ease);
    }
    .nav-links a::after{
      content:"";
      position:absolute; left:0; bottom:-5px;
      height:2px; width:0;
      background: var(--primary);
      border-radius:2px;
      transition: width .25s var(--ease);
    }
    .nav-links a:hover{ color: var(--ink); }
    .nav-links a:hover::after{ width:100%; }

    /* Theme switch visible */
    .theme-switch{
      display:inline-flex; align-items:center; gap:10px;
      padding:7px 10px;
      border-radius:999px;
      background: var(--surface2);
      border:1px solid var(--stroke2);
      box-shadow: var(--shadow-1);
    }
    .theme-icon{
      width:34px;height:34px;border-radius:999px;
      display:grid;place-items:center;
      background: rgba(223,148,157,.18);
      border: 1px solid rgba(223,148,157,.35);
      color: var(--ink);
    }
    .toggle{
      border:0;background:transparent;color:inherit;cursor:pointer;
      font-weight:950; display:inline-flex; align-items:center; gap:8px;
      padding:6px 10px; border-radius:10px;
      transition: background .2s var(--ease), transform .2s var(--ease);
      letter-spacing:.10em;
      text-transform:uppercase;
      font-size:.78rem;
      color: var(--ink);
    }
    .toggle:hover{ background: var(--surface); transform: translateY(-1px); }

    @media (max-width: 940px){
      .nav-links{ display:none; }
    }

    /* =========================
       HERO
    ========================== */
    header.hero{
      position:relative;
      padding: clamp(26px, 4.2vw, 54px) 0 clamp(22px, 4.8vw, 60px);
      overflow:hidden;
    }

    /* background blobs */
    .hero-bg{ position:absolute; inset:0; z-index:-2; overflow:hidden; }
    .blob{
      position:absolute; border-radius:999px;
      filter: blur(26px);
      opacity:.42;
      animation: floatBlob 14s var(--ease) infinite;
      mix-blend-mode: screen;
      background: radial-gradient(circle at 30% 30%, rgba(223,148,157,.80), rgba(223,148,157,.10) 65%, transparent 72%);
    }
    [data-theme="light"] .blob{ mix-blend-mode: multiply; opacity:.28; }
    .blob.b1{ width:480px;height:480px; left:-180px; top:-190px; animation-duration: 16s; }
    .blob.b2{ width:360px;height:360px; right:-150px; top:40px; animation-duration: 15s; animation-delay:-2s;
      background: radial-gradient(circle at 30% 30%, rgba(111,94,79,.70), rgba(111,94,79,.10) 60%, transparent 72%);
    }
    .blob.b3{ width:420px;height:420px; left:36%; bottom:-260px; animation-duration: 18s; animation-delay:-4s; opacity:.34; }

    @keyframes floatBlob{
      0%{ transform: translate3d(0,0,0) scale(1); }
      40%{ transform: translate3d(18px,-14px,0) scale(1.04); }
      70%{ transform: translate3d(-14px,12px,0) scale(.99); }
      100%{ transform: translate3d(0,0,0) scale(1); }
    }

    .grain{
      position:absolute; inset:0; z-index:-1; pointer-events:none;
      opacity:.08;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='220'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='220' height='220' filter='url(%23n)' opacity='.55'/%3E%3C/svg%3E");
      mix-blend-mode: overlay;
    }

    .hero-wrap{
      display:grid;
      grid-template-columns: 1.12fr .88fr;
      gap: clamp(18px, 3.8vw, 44px);
      align-items:center;
      min-height: 460px;
    }

    .role-pill{
      display:inline-flex; align-items:center; gap:10px;
      padding:9px 12px;
      border-radius:999px;
      background: var(--surface);
      border:1px solid var(--stroke);
      font-weight:850;
      color: var(--ink);
      box-shadow: var(--shadow-1);
      width:fit-content;
      animation: popIn .7s var(--ease) both;
      font-size:.98rem;
    }
    .role-pill i{ color: var(--primary); }
    @keyframes popIn{
      from{ opacity:0; transform: translateY(8px) scale(.98); }
      to{ opacity:1; transform: translateY(0) scale(1); }
    }

    .hello{
      margin-top:14px;
      font-size: clamp(2.2rem, 4.6vw, 4.0rem);
      font-weight:950;
      letter-spacing:-.02em;
      line-height:1.02;
      animation: slideUp .75s var(--ease) both;
      animation-delay:.05s;
    }
    .name{
      margin-top:10px;
      font-size: clamp(2.7rem, 6.0vw, 4.9rem);
      font-weight:950;
      letter-spacing:-.02em;
      line-height:1.02;
      color: var(--primary);
      text-shadow: 0 18px 52px rgba(223,148,157,.18);
      animation: slideUp .85s var(--ease) both;
      animation-delay:.12s;
    }
    .desc{
      margin-top:14px;
      max-width: 58ch;
      color: var(--gray-accent);
      font-size: clamp(1.02rem, 1.45vw, 1.16rem);
      animation: slideUp .9s var(--ease) both;
      animation-delay:.18s;
    }
    @keyframes slideUp{
      from{ opacity:0; transform: translateY(14px); }
      to{ opacity:1; transform: translateY(0); }
    }

    .float-code{
      display:inline-block;
      margin-left:10px;
      color: rgba(223,148,157,.85);
      filter: drop-shadow(0 10px 28px rgba(223,148,157,.18));
      animation: floatIcon 2.6s var(--ease) infinite;
      transform-origin:center;
      font-size: .9em;
    }
    @keyframes floatIcon{
      0%,100%{ transform: translateY(0) rotate(0deg); opacity:.95; }
      50%{ transform: translateY(-10px) rotate(-6deg); opacity:.85; }
    }

    .hero-actions{
      margin-top:22px;
      display:flex;
      flex-wrap:wrap;
      gap:12px;
      align-items:center;
      animation: slideUp 1s var(--ease) both;
      animation-delay:.25s;
    }

    .btn{
      display:inline-flex; align-items:center; gap:10px;
      padding:13px 16px;
      border-radius: 16px;
      border: 1px solid var(--btn-stroke);
      background: var(--btn-bg);
      color: var(--btn-ink);
      text-decoration:none;
      font-weight:950;
      letter-spacing:.08em;
      text-transform:uppercase;
      box-shadow: var(--shadow-1);
      transition: transform .18s var(--ease), box-shadow .35s var(--ease), filter .25s var(--ease);
      font-size:.88rem;
      position:relative;
      overflow:hidden;
    }
    /* glossy sweep */
    .btn::after{
      content:"";
      position:absolute; inset:-40% -60%;
      background: linear-gradient(90deg, transparent, rgba(247,239,218,.35), transparent);
      transform: translateX(-60%) rotate(12deg);
      opacity:.0;
      transition: opacity .2s var(--ease);
    }
    .btn:hover::after{ opacity:.55; animation: sweep 1.0s var(--ease); }
    @keyframes sweep{
      from{ transform: translateX(-60%) rotate(12deg); }
      to{ transform: translateX(60%) rotate(12deg); }
    }

    .btn:hover{ transform: translateY(-2px); box-shadow: var(--shadow-2); }

    .btn.secondary{
      background: transparent;
      color: var(--ink);
      border:1px solid var(--stroke2);
      box-shadow:none;
    }
    .btn.secondary:hover{ background: var(--surface2); box-shadow: var(--shadow-1); }

    /* Social icons moved NEXT TO Resume EN (same row) */
    .resume-row{
      display:inline-flex;
      align-items:center;
      gap:10px;
    }
    .socials-inline{ display:inline-flex; gap:10px; align-items:center; }

    .icon-btn{
      width:48px; height:48px;
      display:grid; place-items:center;
      border-radius: 16px;
      border:1px solid var(--stroke2);
      background: var(--surface2);
      color: var(--ink);
      text-decoration:none;
      box-shadow: var(--shadow-1);
      transition: transform .18s var(--ease), box-shadow .35s var(--ease), border-color .25s var(--ease);
      position:relative;
      overflow:hidden;
    }
    .icon-btn i{ font-size:1.22rem; }
    .icon-btn:hover{ transform: translateY(-3px); box-shadow: var(--shadow-2); border-color: rgba(223,148,157,.55); }

    /* ===== Portrait smaller + animated glow ring ===== */
    .hero-card{
      justify-self:end;
      width: min(320px, 100%);           /* smaller */
      padding:10px;
      border-radius: var(--r-xl);
      background: var(--surface);
      border: 1px solid var(--glass-stroke);
      box-shadow: var(--shadow-2);
      position:relative;
      overflow:hidden;
      animation: cardIn .9s var(--ease) both, breathe 4.6s var(--ease) infinite;
      animation-delay:.15s, 1.4s;
      transform-style:preserve-3d;
      perspective: 900px;
    }
    /* animated border glow */
    .hero-card::before{
      content:"";
      position:absolute; inset:-2px;
      background: conic-gradient(
        from 0deg,
        rgba(223,148,157,.0),
        rgba(223,148,157,.55),
        rgba(111,94,79,.25),
        rgba(223,148,157,.55),
        rgba(223,148,157,.0)
      );
      opacity:.35;
      filter: blur(10px);
      animation: spin 7s linear infinite;
      z-index:0;
      pointer-events:none;
    }
    .hero-card::after{
      content:"";
      position:absolute; inset:1px;
      border-radius: calc(var(--r-xl) - 1px);
      background: var(--surface);
      z-index:0;
      pointer-events:none;
    }

    @keyframes spin{
      from{ transform: rotate(0deg); }
      to{ transform: rotate(360deg); }
    }
    @keyframes breathe{
      0%,100%{ transform: translateY(0) scale(1); }
      50%{ transform: translateY(-3px) scale(1.01); }
    }
    @keyframes cardIn{
      from{ opacity:0; transform: translateY(12px) scale(.985); }
      to{ opacity:1; transform: translateY(0) scale(1); }
    }

    .hero-card .photo-frame{
      height: 300px;                      /* smaller image */
      border-radius: calc(var(--r-xl) - 10px);
      overflow:hidden;
      position:relative;
      z-index:1;
      border: 1px solid rgba(255,255,255,.06);
      background: rgba(0,0,0,.08);
    }
    .hero-card img{
      width:100%;
      height:100%;
      object-fit: cover;
      object-position: 50% 18%;
      display:block;
      filter: contrast(1.03) saturate(.98);
      transform: scale(1.03);
      transition: transform .55s var(--ease), filter .35s var(--ease);
      will-change: transform;
    }
    .hero-card:hover img{
      transform: scale(1.08);             /* animate picture */
      filter: contrast(1.05) saturate(1.03);
    }

    @media (max-width: 980px){
      .hero-wrap{ grid-template-columns: 1fr; min-height: unset; }
      .hero-card{ justify-self:center; width:min(360px,100%); }
      .hero-card .photo-frame{ height: 290px; }
    }

    /* =========================
       Sections
    ========================== */
    section{ padding: 58px 0; }
    h2.section-title{
      text-align:center;
      margin-bottom:30px;
      font-weight:950;
      letter-spacing:.16em;
      text-transform:uppercase;
      font-size: clamp(1.0rem, 1.5vw, 1.2rem);
      color: var(--ink);
      opacity:.92;
      position:relative;
    }
    h2.section-title::after{
      content:"";
      display:block;
      width:86px;
      height:2px;
      margin:12px auto 0;
      background: var(--primary);
      border-radius:2px;
    }

    .muted{ color: var(--muted); }

    .about-intro{max-width: 920px; margin:0 auto 16px; text-align:center;}
    .about-lead{font-size: clamp(1.03rem, 1.5vw, 1.18rem); color: var(--ink); opacity:.92;}

    .edu-wrap{max-width: 980px; margin: 22px auto 0;}
    .edu-timeline{list-style:none; padding:0; margin:0;}
    .edu-item{
      position:relative; padding-left:22px; margin:16px 0 16px 18px;
      border-left: 3px solid var(--stroke2);
    }
    .edu-item::before{
      content:"";
      position:absolute; left:-10px; top:10px;
      width:12px; height:12px; border-radius:50%;
      background: var(--primary);
      box-shadow: 0 0 0 4px rgba(223,148,157,.14);
    }
    .edu-item h4{ margin-bottom:6px; font-size: clamp(1.02rem, 1.6vw, 1.20rem); }
    .edu-item p{ margin:0; }

    /* Experience */
    .exp-wrap{ max-width: 980px; margin:0 auto; display:flex; flex-direction:column; gap:14px; }
    .exp-card{
      background: var(--surface);
      border: 1px solid var(--stroke);
      border-radius: var(--r-xl);
      padding: 16px 18px;
      box-shadow: var(--shadow-1);
      transition: transform .2s var(--ease), box-shadow .35s var(--ease), border-color .25s var(--ease);
    }
    .exp-card:hover{ transform: translateY(-4px); box-shadow: var(--shadow-2); border-color: rgba(223,148,157,.55); }
    .exp-head{ display:flex; justify-content:space-between; gap:12px; align-items:flex-start; margin-bottom:6px; }
    .exp-title{ font-weight:950; font-size: clamp(1.05rem, 1.6vw, 1.24rem); }
    .exp-role{ color: var(--muted); font-weight:700; margin-top:4px; }
    .exp-date{
      white-space:nowrap;
      padding:7px 10px;
      border-radius:999px;
      border:1px solid var(--stroke);
      background: var(--surface2);
      font-weight:900;
      font-size:.85rem;
      opacity:.95;
    }
    .exp-body ul{ padding-left:18px; margin:10px 0 0; }
    .exp-body li{ margin:6px 0; color: var(--ink); opacity:.92; }
    .exp-tech{ margin-top:10px; display:flex; flex-wrap:wrap; gap:8px; }
    .badge{
      padding:7px 10px;
      border-radius:999px;
      border:1px solid rgba(223,148,157,.28);
      background: rgba(223,148,157,.12);
      font-family: var(--mono);
      font-size:.74rem;
      font-weight:800;
    }

    /* Projects */
    .other-grid{
      max-width: 1180px;
      margin:0 auto;
      display:grid;
      grid-template-columns: repeat(auto-fit,minmax(280px,1fr));
      gap:16px;
    }
    .other-card{
      background: var(--surface);
      border: 1px solid var(--stroke);
      border-radius: var(--r-xl);
      padding: 16px 16px;
      box-shadow: var(--shadow-1);
      transition: transform .2s var(--ease), box-shadow .35s var(--ease), border-color .25s var(--ease);
    }
    .other-card:hover{ transform: translateY(-4px); box-shadow: var(--shadow-2); border-color: rgba(223,148,157,.55); }
    .other-top{ display:flex; justify-content:space-between; align-items:center; gap:10px; }
    .other-title{ font-weight:950; font-size: clamp(1.02rem, 1.4vw, 1.16rem); }
    .other-gh a{ color: var(--muted); text-decoration:none; }
    .other-gh a:hover{ color: var(--primary); }
    .other-gh i{ font-size: 22px; }
    .other-desc{ margin:10px 0 12px; color: var(--muted); }
    .other-tech{ display:flex; flex-wrap:wrap; gap:8px; }
    .other-tech .badge{ font-size:.72rem; padding:6px 9px; }

    /* Skills */
    .icon-grid{
      max-width: 980px;
      margin:0 auto;
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(78px, 1fr));
      gap:14px;
    }
    .icon-cell{
      background: var(--surface);
      border: 1px solid var(--stroke);
      border-radius: 16px;
      padding: 14px;
      box-shadow: var(--shadow-1);
      display:flex; align-items:center; justify-content:center;
      transition: transform .18s var(--ease), box-shadow .35s var(--ease), border-color .25s var(--ease);
    }
    .icon-cell:hover{ transform: translateY(-4px); box-shadow: var(--shadow-2); border-color: rgba(223,148,157,.55); }
    .icon-cell img{
      width:34px; height:34px; object-fit:contain;
      filter: grayscale(12%) saturate(.95);
      transition: transform .16s var(--ease), filter .2s var(--ease);
    }
    .icon-cell:hover img{ transform: scale(1.08); filter:none; }

    /* Contact */
    .contact-wrap{
      max-width: 980px;
      margin:0 auto;
      display:grid;
      grid-template-columns: .95fr 1.05fr;
      gap:18px;
    }
    .c-card{
      background: var(--surface);
      border: 1px solid var(--stroke);
      border-radius: var(--r-xl);
      padding: 16px;
      box-shadow: var(--shadow-1);
    }
    .contact-items{ display:grid; gap:12px; }
    .contact-item2{
      display:flex; gap:14px; align-items:center;
      padding:13px;
      border-radius: 16px;
      border:1px solid var(--stroke);
      background: var(--surface2);
    }
    .contact-item2 .ico{
      width:44px; height:44px;
      border-radius: 16px;
      display:grid; place-items:center;
      border:1px solid rgba(223,148,157,.35);
      background: rgba(223,148,157,.16);
      color: var(--ink);
      flex: 0 0 auto;
    }
    .contact-item2 a{ text-decoration:none; color: var(--ink); }
    .contact-item2 a:hover{ color: var(--primary); }
    .lang-badges{ display:flex; flex-wrap:wrap; gap:8px; margin-top:6px; }

    .form-panel{
      background: var(--glass);
      border:1px solid var(--glass-stroke);
      border-radius: var(--r-xl);
      padding: 16px;
      box-shadow: var(--shadow-2);
      backdrop-filter: blur(10px);
    }
    .form-panel h3{
      text-align:center;
      font-weight:950;
      letter-spacing:.12em;
      text-transform:uppercase;
      font-size: .95rem;
      color: var(--muted);
      margin-bottom: 10px;
    }
    .f{ display:flex; flex-direction:column; gap:12px; }
    .field{ position:relative; }
    .field input, .field textarea{
      width:100%;
      border-radius: 16px;
      border: 1px solid var(--stroke);
      background: var(--surface);
      color: var(--ink);
      padding: 13px 46px 13px 14px;
      outline:none;
      transition: box-shadow .25s var(--ease), border-color .25s var(--ease);
    }
    .field textarea{ min-height:116px; resize:vertical; }
    .field input:focus, .field textarea:focus{
      border-color: rgba(223,148,157,.65);
      box-shadow: 0 0 0 4px rgba(223,148,157,.16);
    }
    .field .f-ico{ position:absolute; right:14px; top:50%; transform:translateY(-50%); color: var(--muted); }

    .send-btn{
      margin-top:6px;
      width:100%;
      padding:13px 16px;
      border-radius: 16px;
      border: 1px solid rgba(223,148,157,.55);
      background: var(--btn-bg);
      color: var(--btn-ink);
      font-weight:950;
      letter-spacing:.10em;
      text-transform:uppercase;
      cursor:pointer;
      box-shadow: var(--shadow-1);
      transition: transform .18s var(--ease), box-shadow .35s var(--ease);
    }
    .send-btn:hover{ transform: translateY(-2px); box-shadow: var(--shadow-2); }

    .copyright{
      text-align:center;
      color: var(--muted2);
      margin-top: 14px;
      font-size: .95rem;
    }

    .reveal{ opacity:0; transform: translateY(14px); transition: opacity .6s var(--ease), transform .6s var(--ease); }
    .reveal.show{ opacity:1; transform:none; }

    @media (max-width: 980px){
      section{ padding: 52px 0; }
      .contact-wrap{ grid-template-columns: 1fr; }
    }

    /* ManalBot */
    .mbot-toggle{
      position: fixed; bottom: 18px; right: 18px; z-index: 60;
      border: 1px solid rgba(223,148,157,.45);
      cursor: pointer;
      padding: 11px 14px;
      border-radius: 999px;
      background: var(--btn-bg);
      color: var(--btn-ink);
      font-weight: 950;
      letter-spacing:.10em;
      text-transform:uppercase;
      box-shadow: var(--shadow-2);
      display:flex; align-items:center; gap:10px;
    }
    .mbot-panel{
      position: fixed; bottom: 82px; right: 18px; z-index: 60;
      width: min(380px, 92vw); height: 560px; display: none;
      background: var(--glass);
      border:1px solid var(--glass-stroke);
      border-radius: 18px;
      box-shadow: var(--shadow-2);
      overflow: hidden;
      backdrop-filter: blur(10px);
    }
    .mbot-header{
      display:flex; align-items:center; justify-content:space-between;
      padding: 10px 12px;
      border-bottom:1px solid var(--glass-stroke);
      background: rgba(223,148,157,.10);
    }
    .mbot-title{
      display:flex; align-items:center; gap:10px;
      font-weight:950; letter-spacing:.10em;
      text-transform:uppercase;
      color: var(--muted);
      font-family: var(--mono);
    }
    .mbot-body{
      height: calc(560px - 52px - 64px);
      overflow:auto;
      padding:14px;
      display:flex; flex-direction:column; gap:12px;
    }
    .mbot-row{ display:flex; gap:10px; }
    .mbot-row.user{ justify-content:flex-end; }
    .mbot-bubble{
      max-width: 86%;
      padding: 10px 12px;
      border-radius: 14px;
      line-height:1.5;
      border:1px solid var(--stroke);
      background: var(--surface);
      color: var(--ink);
      box-shadow: var(--shadow-1);
    }
    .mbot-row.user .mbot-bubble{
      background: rgba(223,148,157,.18);
      border:1px solid rgba(223,148,157,.28);
      font-weight:800;
    }
    .mbot-typing{ font-style: italic; color: var(--muted); padding: 4px 2px; }
    .mbot-suggest{ display:flex; gap:8px; flex-wrap:wrap; padding:6px 0 2px 0; }
    .mbot-chip{
      border:1px solid rgba(223,148,157,.28);
      background: rgba(223,148,157,.12);
      color: var(--ink);
      border-radius:999px;
      padding:6px 10px;
      font-size:.82rem;
      cursor:pointer;
      font-family: var(--mono);
    }
    .mbot-footer{
      display:grid; grid-template-columns: 1fr auto auto;
      gap:8px;
      padding: 10px;
      border-top:1px solid var(--glass-stroke);
      background: var(--glass);
    }
    .mbot-input{
      border-radius: 12px;
      border:1px solid var(--stroke);
      background: var(--surface);
      padding: 12px 12px;
      color: var(--ink);
      outline: none;
    }
    .mbot-input:focus{
      border-color: rgba(223,148,157,.65);
      box-shadow: 0 0 0 4px rgba(223,148,157,.16);
    }
    .mbot-btn{
      border:1px solid var(--stroke);
      cursor:pointer;
      padding:0 14px;
      border-radius:12px;
      background: var(--surface2);
      color: var(--ink);
      display:flex; align-items:center; gap:8px;
      font-weight:900;
    }
    .mbot-btn:hover{ border-color: rgba(223,148,157,.55); }

    @media (max-height:700px){
      .mbot-panel{ height: 520px; }
      .mbot-body{ height: calc(520px - 52px - 64px); }
    }
  </style>
</head>

<body>
  <div class="stars" aria-hidden="true"></div>
  <div class="mouse-spotlight" aria-hidden="true"></div>

  <!-- NAV -->
  <nav class="navbar">
    <div class="container">
      <div class="nav-inner">
        <div class="brand">MANAL&nbsp;ESSALMOUNI</div>

        <div class="nav-links">
          <a href="#about">About</a>
          <a href="#experience">Experience</a>
          <a href="#projects">Projects</a>
          <a href="#skills">Skills</a>
          <a href="#contact">Contact</a>
        </div>

        <div class="theme-switch">
          <div class="theme-icon" id="themeIcon"><i class="fa-solid fa-moon"></i></div>
          <button id="themeToggle" class="toggle" aria-label="Toggle theme">Dark</button>
        </div>
      </div>
    </div>
  </nav>

  <!-- HERO -->
  <header class="hero" id="home">
    <div class="hero-bg">
      <div class="blob b1"></div>
      <div class="blob b2"></div>
      <div class="blob b3"></div>
      <div class="grain"></div>
    </div>

    <div class="container">
      <div class="hero-wrap">
        <!-- Left -->
        <div>
          <div class="role-pill">
            <i class="fa-solid fa-code"></i>
            <span>AI Engineer &amp; Data Scientist</span>
          </div>

          <div class="hello">
            Hello I’m <span class="float-code"><i class="fa-solid fa-terminal"></i></span>
          </div>

          <div class="name">Manal ESSALMOUNI</div>

          <p class="desc">I build elegant AI and data-driven solutions.</p>

          <div class="hero-actions">
            <a class="btn" href="CV_Manal_Essalmouni_FR.pdf" download>
              <i class="fa-solid fa-download"></i> Télécharger CV (FR)
            </a> 


            <!-- Resume + icons NEXT TO it -->
            <div class="resume-row">
              <a class="btn secondary" href="Resume_Manal_Essalmouni_EN.pdf" download>
                <i class="fa-regular fa-file-lines"></i> Download Resume (EN)
              </a>

              <div class="socials-inline">
                <a class="icon-btn" href="https://github.com/manalessalmouni" target="_blank" rel="noopener" aria-label="GitHub">
                  <i class="fa-brands fa-github"></i>
                </a>
                <a class="icon-btn" href="https://www.linkedin.com/in/manal-essalmouni" target="_blank" rel="noopener" aria-label="LinkedIn">
                  <i class="fa-brands fa-linkedin-in"></i>
                </a>
              </div>
            </div>
          </div>
        </div>

        <!-- Right -->
        <div class="hero-card" id="portrait">
          <div class="photo-frame">
            <img src="me.JPG" alt="Manal Essalmouni">
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- ABOUT / EDUCATION -->
  <section id="about" class="reveal">
    <div class="container">
      <h2 class="section-title">About &amp; Core Education</h2>

      <div class="about-intro">
        <p class="about-lead">
          A <strong>Data Science &amp; Artificial Intelligence</strong> student seeking a
          <strong>final-year internship (PFE)</strong> to apply and further develop my technical skills in
          data science and AI within an innovative company.
        </p>
      </div>

      <div class="edu-wrap">
        <ul class="edu-timeline">
          <li class="edu-item">
            <h4>Master of Excellence — Artificial Intelligence &amp; Connected Objects</h4>
            <p class="muted">University of Ibn Tofail • Oct 2024 – Jun 2026</p>
          </li>

          <li class="edu-item">
            <h4>Bachelor of Excellence — Artificial Intelligence &amp; Data Engineering</h4>
            <p class="muted">University of Ibn Tofail • Oct 2023 – Jun 2024</p>
          </li>

          <li class="edu-item">
            <h4>University Diploma of Technology (DUT) — Artificial Intelligence &amp; Emerging Technologies</h4>
            <p class="muted">Higher School of Technology of Meknes (ESTM) • 2021 – 2023</p>
          </li>

          <li class="edu-item">
            <h4>Baccalaureate — Physical Sciences (High Honors)</h4>
            <p class="muted">Ibn Zoher High School • 2021</p>
          </li>
        </ul>
      </div>
    </div>
  </section>

  <!-- EXPERIENCE -->
  <section id="experience" class="reveal">
    <div class="container">
      <h2 class="section-title">Experience</h2>

      <div class="exp-wrap">
        <article class="exp-card">
          <div class="exp-head">
            <div>
              <div class="exp-title">EMS Maroc · Kenitra</div>
              <div class="exp-role">Machine Learning &amp; Computer Vision Intern</div>
            </div>
            <div class="exp-date">July–Sep 2025 · 3 mo</div>
          </div>
          <div class="exp-body">
            <ul>
              <li>Developed an intelligent vision platform to automatically detect and extract phone numbers from SIM cards and vehicle license plates in real-time and static images.</li>
              <li>Integrated OCR models with preprocessing pipelines for higher recognition accuracy and built a data-export system for analytics.</li>
            </ul>
            <div class="exp-tech">
              <span class="badge">Python</span><span class="badge">OpenCV</span><span class="badge">Tesseract/EasyOCR</span>
              <span class="badge">YOLOv5/YOLOv8</span><span class="badge">Flask</span><span class="badge">NumPy</span><span class="badge">Pandas</span>
            </div>
          </div>
        </article>

        <article class="exp-card">
          <div class="exp-head">
            <div>
              <div class="exp-title">Omniconsulting · Remote</div>
              <div class="exp-role">AI Intern — CV Matching Platform</div>
            </div>
            <div class="exp-date">July–Aug 2025 · 2 mo</div>
          </div>
          <div class="exp-body">
            <ul>
              <li>Built an AI web platform that compares and ranks CVs against job descriptions using TF-IDF and cosine similarity.</li>
            </ul>
            <div class="exp-tech">
              <span class="badge">Python</span><span class="badge">Scikit-learn</span><span class="badge">TF-IDF</span>
              <span class="badge">Cosine Similarity</span><span class="badge">Flask</span><span class="badge">HTML</span><span class="badge">CSS</span><span class="badge">JavaScript</span>
            </div>
          </div>
        </article>

        <article class="exp-card">
          <div class="exp-head">
            <div>
              <div class="exp-title">Faculty of Sciences · Kenitra</div>
              <div class="exp-role">AI Research Project — SymptoBot (Medical AI)</div>
            </div>
            <div class="exp-date">July & Sep 2024 · 2 mo</div>
          </div>
          <div class="exp-body">
            <ul>
              <li>Contributed to SymptoBot, a medical AI project using deep learning and computer vision to detect diseases from X-rays and biomedical images.</li>
              <li>Performed dataset preprocessing, CNN training and evaluation (transfer learning) for reliable, explainable classification.</li>
            </ul>
            <div class="exp-tech">
              <span class="badge">Python</span><span class="badge">TensorFlow</span><span class="badge">Keras</span><span class="badge">OpenCV</span>
            </div>
          </div>
        </article>

        <article class="exp-card">
          <div class="exp-head">
            <div>
              <div class="exp-title">ONEE · Meknes</div>
              <div class="exp-role">Final-Year Internship — Environmental AI Applications</div>
            </div>
            <div class="exp-date">Apr–Jul 2023 · 4 mo</div>
          </div>
          <div class="exp-body">
            <ul>
              <li>Developed two wastewater-treatment applications and a machine-learning tool to predict water potability.</li>
            </ul>
            <div class="exp-tech">
              <span class="badge">Python</span><span class="badge">Tkinter</span><span class="badge">Scikit-learn</span>
              <span class="badge">Pandas</span><span class="badge">NumPy</span><span class="badge">Matplotlib</span>
            </div>
          </div>
        </article>

        <article class="exp-card">
          <div class="exp-head">
            <div>
              <div class="exp-title">Agro Juice Processing (Valencia) · Meknes</div>
              <div class="exp-role">Introductory Internship — Web Development</div>
            </div>
            <div class="exp-date">Jul 2022 · 1 mo</div>
          </div>
          <div class="exp-body">
            <ul>
              <li>Created a stock-transfer management web app; practiced full-stack + database management.</li>
            </ul>
            <div class="exp-tech">
              <span class="badge">PHP</span><span class="badge">HTML</span><span class="badge">CSS</span>
              <span class="badge">JavaScript</span><span class="badge">MySQL</span>
            </div>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- PROJECTS -->
  <section id="projects" class="reveal">
    <div class="container">
      <h2 class="section-title">Projects</h2>

      <div class="other-grid">
        <article class="other-card">
          <div class="other-top">
            <div class="other-title">Smart Mouwatin — AI Administrative Assistant</div>
            <div class="other-gh">
              <a href="https://github.com/manalessalmouni/smart-mouwatin" target="_blank" rel="noopener" title="GitHub">
                <i class="fa-brands fa-github"></i>
              </a>
            </div>
          </div>
          <div class="other-desc">
            AI platform to help Moroccan citizens navigate administrative procedures: documents, office locations, and Q&amp;A (voice &amp; text).
          </div>
          <div class="other-tech">
            <span class="badge">FastAPI</span><span class="badge">LangChain (RAG)</span><span class="badge">ChromaDB</span>
            <span class="badge">Gemini API</span><span class="badge">React</span><span class="badge">Tailwind</span><span class="badge">Vite</span>
          </div>
        </article>

        <article class="other-card">
          <div class="other-top">
            <div class="other-title">AgroBot</div>
            <div class="other-gh">
              <a href="https://github.com/manalessalmouni/agrobot" target="_blank" rel="noopener" title="GitHub">
                <i class="fa-brands fa-github"></i>
              </a>
            </div>
          </div>
          <div class="other-desc">
            AI-powered web app recommending crops from soil, climate, and market factors. ML predictions + geolocation + agronomic rules.
          </div>
          <div class="other-tech">
            <span class="badge">Python</span><span class="badge">Scikit-learn</span><span class="badge">Pandas</span>
            <span class="badge">Flask</span><span class="badge">GeoPy</span><span class="badge">FPDF</span>
            <span class="badge">HTML</span><span class="badge">CSS</span><span class="badge">JavaScript</span>
          </div>
        </article>

        <article class="other-card">
          <div class="other-top">
            <div class="other-title">Student Data Analysis Tool</div>
            <div class="other-gh"></div>
          </div>
          <div class="other-desc">
            Desktop interface to analyze ESTM student data and identify competition-eligible candidates with interactive charts.
          </div>
          <div class="other-tech">
            <span class="badge">Python</span><span class="badge">Tkinter</span><span class="badge">NumPy</span>
            <span class="badge">Pandas</span><span class="badge">Matplotlib</span><span class="badge">Seaborn</span>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- SKILLS -->
  <section id="skills" class="reveal">
    <div class="container">
      <h2 class="section-title">Tools &amp; Skills</h2>

      <div class="icon-grid">
        <div class="icon-cell"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/python/python-original.svg" alt="Python"></div>
        <div class="icon-cell"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/pandas/pandas-original.svg" alt="Pandas"></div>
        <div class="icon-cell"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/numpy/numpy-original.svg" alt="NumPy"></div>
        <div class="icon-cell"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/scikitlearn/scikitlearn-original.svg" alt="scikit-learn"></div>
        <div class="icon-cell"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/matplotlib/matplotlib-original.svg" alt="Matplotlib"></div>

        <div class="icon-cell"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/tensorflow/tensorflow-original.svg" alt="TensorFlow"></div>
        <div class="icon-cell"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/opencv/opencv-original.svg" alt="OpenCV"></div>
        <div class="icon-cell"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/pytorch/pytorch-original.svg" alt="PyTorch"></div>

        <div class="icon-cell"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/flask/flask-original.svg" alt="Flask"></div>
        <div class="icon-cell"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/mysql/mysql-original.svg" alt="MySQL"></div>
        <div class="icon-cell"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/php/php-original.svg" alt="PHP"></div>
        <div class="icon-cell"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/html5/html5-original.svg" alt="HTML5"></div>
        <div class="icon-cell"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/css3/css3-original.svg" alt="CSS3"></div>
        <div class="icon-cell"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/javascript/javascript-original.svg" alt="JavaScript"></div>

        <div class="icon-cell"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/git/git-original.svg" alt="Git"></div>
        <div class="icon-cell"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/github/github-original.svg" alt="GitHub"></div>
        <div class="icon-cell"><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/linux/linux-original.svg" alt="Linux"></div>
      </div>
    </div>
  </section>

  <!-- CONTACT -->
  <section id="contact" class="reveal">
    <div class="container">
      <h2 class="section-title">Get In Touch</h2>

      <div class="contact-wrap">
        <div class="c-card">
          <div class="contact-items">
            <div class="contact-item2">
              <div class="ico"><i class="fa-regular fa-envelope"></i></div>
              <div class="txt">
                <strong>Email</strong><br>
                <a href="mailto:manalessalmouni@gmail.com">manalessalmouni@gmail.com</a>
              </div>
            </div>

            <div class="contact-item2">
              <div class="ico"><i class="fa-brands fa-linkedin-in"></i></div>
              <div class="txt">
                <strong>LinkedIn</strong><br>
                <a href="https://www.linkedin.com/in/manal-essalmouni" target="_blank" rel="noopener">linkedin.com/in/manal-essalmouni</a>
              </div>
            </div>

            <div class="contact-item2">
              <div class="ico"><i class="fa-solid fa-language"></i></div>
              <div class="txt">
                <strong>Languages</strong>
                <div class="lang-badges">
                  <span class="badge">Arabic — Native</span>
                  <span class="badge">French — Fluent</span>
                  <span class="badge">English — Fluent</span>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="form-panel">
          <h3>Send a Message</h3>
          <form class="f" id="contactForm">
            <div class="field">
              <input type="text" id="name" placeholder="Your Name" required>
              <i class="fa-regular fa-user f-ico"></i>
            </div>
            <div class="field">
              <input type="email" id="email" placeholder="Your Email" required>
              <i class="fa-regular fa-envelope f-ico"></i>
            </div>
            <div class="field">
              <textarea id="message" placeholder="Your Message" required></textarea>
              <i class="fa-regular fa-comment-dots f-ico"></i>
            </div>
            <button class="send-btn" type="submit"><i class="fa-solid fa-paper-plane"></i> Send Message</button>
          </form>
        </div>
      </div>

      <p class="copyright">© 2025 Manal Essalmouni.</p>
    </div>
  </section>

  <!-- MANALBOT -->
  <button class="mbot-toggle" id="mbotToggle">
    <i class="fa-solid fa-comments"></i> Chat
  </button>

  <div class="mbot-panel" id="mbotPanel" aria-live="polite">
    <div class="mbot-header">
      <div class="mbot-title"><i class="fa-solid fa-comment"></i> ManalBot</div>
      <div style="display:flex; gap:8px;">
        <button class="mbot-btn" id="mbotTTS" title="Voice reply"><i class="fa-solid fa-volume-high"></i></button>
        <button class="mbot-btn" id="mbotClose" title="Close"><i class="fa-solid fa-xmark"></i></button>
      </div>
    </div>

    <div class="mbot-body" id="mbotBody">
      <div class="mbot-row">
        <div class="mbot-bubble">
          Hi! I’m <strong>ManalBot</strong>. Ask me about Manal — skills, tools, projects, education, experience, or how to contact her.
        </div>
      </div>
      <div class="mbot-suggest" id="mbotSuggest">
        <span class="mbot-chip" data-q="write about Manal">write about Manal</span>
        <span class="mbot-chip" data-q="show projects">show projects</span>
        <span class="mbot-chip" data-q="skills">skills</span>
        <span class="mbot-chip" data-q="how can I contact you?">contact</span>
      </div>
    </div>

    <div class="mbot-footer">
      <input id="mbotInput" class="mbot-input" placeholder="Type a question…" />
      <button class="mbot-btn" id="mbotMic" title="Speak"><i class="fa-solid fa-microphone"></i></button>
      <button class="mbot-btn" id="mbotSend"><i class="fa-solid fa-paper-plane"></i> Send</button>
    </div>
  </div>

  <script>
    /* THEME */
    const themeToggle = document.getElementById('themeToggle');
    const themeIcon = document.getElementById('themeIcon');

    const saved = localStorage.getItem('theme');
    if (saved) document.documentElement.setAttribute('data-theme', saved);
    else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches) {
      document.documentElement.setAttribute('data-theme', 'light');
    }

    function syncThemeUI(){
      const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
      themeToggle.textContent = isDark ? 'Dark' : 'Light';
      themeIcon.innerHTML = isDark
        ? '<i class="fa-solid fa-moon"></i>'
        : '<i class="fa-solid fa-sun"></i>';
    }
    syncThemeUI();

    themeToggle.addEventListener('click', () => {
      const cur = document.documentElement.getAttribute('data-theme');
      const next = (cur === 'dark') ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', next);
      localStorage.setItem('theme', next);
      syncThemeUI();
    });

    /* Mouse spotlight + parallax for blobs (more animations) */
    (function mouseEffects(){
      const b1 = document.querySelector('.blob.b1');
      const b2 = document.querySelector('.blob.b2');
      const b3 = document.querySelector('.blob.b3');

      let raf = 0;
      window.addEventListener('mousemove', (e) => {
        if (raf) return;
        raf = requestAnimationFrame(() => {
          const x = (e.clientX / window.innerWidth);
          const y = (e.clientY / window.innerHeight);

          // spotlight
          document.documentElement.style.setProperty('--mx', (x*100).toFixed(2) + '%');
          document.documentElement.style.setProperty('--my', (y*100).toFixed(2) + '%');

          // parallax blobs (subtle)
          const dx = (x - 0.5);
          const dy = (y - 0.5);
          if (b1) b1.style.transform = `translate3d(${dx*18}px, ${dy*14}px, 0)`;
          if (b2) b2.style.transform = `translate3d(${dx*-14}px, ${dy*10}px, 0)`;
          if (b3) b3.style.transform = `translate3d(${dx*10}px, ${dy*-12}px, 0)`;

          raf = 0;
        });
      }, { passive: true });
    })();

    /* SCROLL REVEAL */
    const io = new IntersectionObserver((entries) => {
      entries.forEach(e => {
        if (e.isIntersecting) {
          e.target.classList.add('show');
          io.unobserve(e.target);
        }
      });
    }, { threshold: 0.12 });
    document.querySelectorAll('.reveal').forEach(el => io.observe(el));

    /* HERO PORTRAIT TILT (still) */
    const portrait = document.getElementById('portrait');
    if (portrait){
      portrait.addEventListener('mousemove', (e)=>{
        const r = portrait.getBoundingClientRect();
        const x = (e.clientX - r.left) / r.width;
        const y = (e.clientY - r.top) / r.height;
        const rx = (0.5 - y) * 6;
        const ry = (x - 0.5) * 6;
        portrait.style.transform = `rotateX(${rx}deg) rotateY(${ry}deg) translateY(-2px)`;
      });
      portrait.addEventListener('mouseleave', ()=>{
        portrait.style.transform = 'rotateX(0) rotateY(0)';
      });
    }

    /* CONTACT FORM */
    document.getElementById('contactForm')?.addEventListener('submit', (e)=>{
      e.preventDefault();
      const name = document.getElementById('name').value.trim();
      const email = document.getElementById('email').value.trim();
      const msg = document.getElementById('message').value.trim();
      const subject = encodeURIComponent(`Portfolio message from ${name}`);
      const body = encodeURIComponent(`From: ${name} <${email}>\n\n${msg}`);
      window.location.href = `mailto:manalessalmouni@gmail.com?subject=${subject}&body=${body}`;
    });

    /* MANALBOT */
    const KB = {
      name: "Manal Essalmouni",
      title: "AI Engineer & Data Scientist",
      email: "manalessalmouni@gmail.com",
      linkedin: "https://www.linkedin.com/in/manal-essalmouni",
      github: "https://github.com/manalessalmouni",
      projects: [
        "Smart Mouwatin — AI Administrative Assistant (FastAPI, LangChain RAG, ChromaDB, Gemini API, React, Tailwind, Vite).",
        "AgroBot — ML crop recommendation app (Scikit-learn, Pandas, Flask, GeoPy, FPDF, JS).",
        "Student Data Analysis Tool — desktop analytics & charts (Tkinter, Pandas, NumPy, Seaborn, Matplotlib)."
      ]
    };

    const $ = sel => document.querySelector(sel);
    const panel = $("#mbotPanel"),
          botToggle = $("#mbotToggle"),
          sendBtn = $("#mbotSend"),
          input = $("#mbotInput"),
          bodyEl = $("#mbotBody"),
          closeBtn = $("#mbotClose"),
          micBtn = $("#mbotMic"),
          ttsBtn = $("#mbotTTS");

    let ttsOn = false;
    let synth = window.speechSynthesis;

    botToggle?.addEventListener("click", () => {
      const open = panel.style.display === "block";
      panel.style.display = open ? "none" : "block";
      if (!open) input.focus();
    });
    closeBtn?.addEventListener("click", () => panel.style.display = "none");

    document.querySelectorAll('.mbot-chip').forEach(c=>{
      c.addEventListener('click', ()=>{ input.value = c.dataset.q; input.focus(); });
    });

    sendBtn?.addEventListener("click", sendMessage);
    input?.addEventListener("keydown", e => { if (e.key === "Enter") sendMessage(); });

    let rec;
    micBtn?.addEventListener("click", ()=>{
      if (!("webkitSpeechRecognition" in window)) {
        alert("Speech recognition not supported on this browser");
        return;
      }
      if (!rec){
        rec = new webkitSpeechRecognition();
        rec.lang = "en-US";
        rec.continuous = false; rec.interimResults = false;
        rec.onresult = (ev)=>{ input.value = ev.results[0][0].transcript; sendMessage(); };
      }
      rec.start();
    });

    ttsBtn?.addEventListener("click", ()=>{
      ttsOn = !ttsOn;
      ttsBtn.innerHTML = ttsOn
        ? '<i class="fa-solid fa-volume-high"></i>'
        : '<i class="fa-solid fa-volume-xmark"></i>';
    });

    function addBubble(text, who="bot"){
      const row = document.createElement("div");
      row.className = "mbot-row " + (who === "user" ? "user" : "bot");
      const b = document.createElement("div");
      b.className = "mbot-bubble";
      b.innerHTML = text;
      row.appendChild(b);
      bodyEl.appendChild(row);
      bodyEl.scrollTop = bodyEl.scrollHeight;
      saveHistory();
    }
    function showTyping(show){
      let t = $("#mbotTyping");
      if (show && !t){
        t = document.createElement("div");
        t.id = "mbotTyping"; t.className = "mbot-typing";
        t.textContent = "ManalBot is typing…";
        bodyEl.appendChild(t);
      } else if (!show && t) t.remove();
      bodyEl.scrollTop = bodyEl.scrollHeight;
    }

    function answer(question) {
      const q = question.toLowerCase();
      if (q.includes("project")) return `<strong>Projects:</strong><br>${KB.projects.map(p => "• " + p).join("<br>")}`;
      if (q.includes("contact") || q.includes("email")) return `Email: <a href="mailto:${KB.email}">${KB.email}</a><br>LinkedIn: <a href="${KB.linkedin}" target="_blank">Profile</a>`;
      if (q.includes("github")) return `GitHub: <a href="${KB.github}" target="_blank">${KB.github}</a>`;
      return "Try: projects, contact, github.";
    }

    function sendMessage(){
      const text = input.value.trim();
      if (!text) return;
      addBubble(text, "user");
      input.value = "";
      showTyping(true);
      setTimeout(()=>{
        showTyping(false);
        addBubble(answer(text), "bot");
      }, 420);
    }

    function saveHistory(){ localStorage.setItem("manalbot_history", bodyEl.innerHTML); }
    (function loadHistory(){
      const h = localStorage.getItem("manalbot_history");
      if (h) bodyEl.innerHTML = h;
    })();
  </script>
</body>
</html>


